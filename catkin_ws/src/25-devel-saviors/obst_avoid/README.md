# Package `pkg_name` {#pkg_name}
This is the first part of our devel saviors package
first of all: we need an additional library install via: "pip install scikit-image"

The other files can be used as follows:

the scripts folder provides three useful files:
1. duckiedetect_final is a jupyter notebook file to tryout new duckiedetection algorithms and is for trying new algorithms
2. the dt-bag-thumbnails script provides the functionality to extract jpg pictures from rosbags
3. the eval_detection offers a script for evaluating the current implementation

There are currently two nodes implemented which can be used as follows:
1. THERE IS THE OBSTACLE_DETECTION NODE
in this node we perform the general obstacle detection which is later meant to be run online on our duckiebot!
the detection algorithm itself still needs to be improved
THE MAIN OUTPUT OF THIS NODE IS THE TOPIC:
'/"YOUR_ROBOT_NAME/obst_detect/posearray'
this pose array contains an array of all of the detected obstacles, where:
- position.x represents the real WORLD x coordinate of the obstacle
- position.y represents the real WORLD y coordinate of the obstacle
- position.z represents the real WORLD RADIUS of the obstacle
- orientation.x represents the "most" left pixel of the obstacle
- orientation.y represents the "most" top pixel of the obstacle
- orientation.z represents the "most" right pixel of the obstacle
- orientation.w represents the "most" bottom pixel of the 

THIS SPECIAL MEANING IS VERY IMPORTANT!!!

the node can be launched via:

roslaunch obst_avoid obst_avoid.launch robot_name:=YOUR_ROBOT_NAME_GOES_HERE (default="dori") show_marker:= (default=false) show_image:= (default=false)

example without visualizing anything: roslaunch obst_avoid obst_avoid.launch robot_name:=arki

example with visualizing the obstacles in the imageframe: roslaunch obst_avoid obst_avoid.launch robot_name:=arki show_image:=true

NOTE: although this node is not meant for visualization but rather for fast execution you can still visualize the obstacles with those two parameters if you want to and since the obstacle detection algorithm is performing on a cropped version of the image, here if you turn on show_image, this cropped version is displayed. So the visualisation properties in this node are for making development easy but throughout normal operation we recommend to use our SECOND NODE:

2. THERE IS THE OBSTACLE_DETECTION_NODE_VISUAL
in this node we visualize the output of our obstacle detection (=OBSTACLE_DETECTION_NODE). This node is meant to be run on your personal laptop for verifying what is going on during the drive!!!

FOR THIS NODE TO RUN PROPERLY, THE OBSTACLE_DETECTION_NODE MUST BE RUNNING

this node publishes 2 things:
- the obstacles as markers which can be shown in rviz
- the obstacles marked in the image IMPORTANT: unlike in 1. we here show the whole image!!!

the node can be launched via: 

roslaunch obst_avoid obst_avoid_visual.launch robot_name:=YOUR_ROBOT_NAME_GOES_HERE (default="dori") show_marker:= (default=true) show_image:= (default=true)

example with visualizing everything: roslaunch obst_avoid obst_avoid_visual.launch robot_name:=arki


<move-here src='#pkg_name-autogenerated'/>
